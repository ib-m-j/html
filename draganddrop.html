
<!DOCTYPE HTML>
<html>
<head>
<style>
#table {width:100%; padding:2px; font-size:3em; border-spacing:10px;}
#other {position:absolute; top:300px; width:20px;height:20px;padding:10px;border:1px solid #aaaaaa;}
#namelist {list-style-type:none; padding:10px; margin:10px;}
#table div {background-color:lightgrey; padding:3px;}
#table td { margin:5px;}
.dropzone {height:150px; background-color:"#555555"; text-align:center; 
           border:solid black 1px; padding-left:10px; padding-right:10px;}
.unseatedPlayer {height: 150px; font-size:2.5em;   
           background-color:lightgrey; margin:1px; border-radius:5px; 
           padding-left:5px; min-width: 100px;  padding-right:5px; margin:10px; 
           display:inline-block; text-align:center;}
.seat {border:solid black 1px; width: calc((100% - 9em;) / 2); height:7em; 
        block-sizing:border-box; padding-left: 5px; padding-top:5px;}
</style>
<script src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
<script src="http://code.jquery.com/ui/1.8.21/jquery-ui.min.js"></script>
<script>

var dropBgColor = "#cccccc";
var dropzoneBgColor = "#555555";
var dropName = "";

function touchStart(event) {
  var touch = event.changedTouches[0];
  event.preventDefault();
  dropName = touch.target.id;
  setStatus("Starting with touch" + dropName);
  touch.target.style.backgroundColor = "white";
}

function setToBottom(ev) {
  event.preventDefault();
  var touch = event.changedTouches[0];
  var oldTexts = new Array;
  var newTexts = new Array;
  var ids = ["Nord", "Øst", "Syd", "Vest"];
  
  var bottomId = ids.indexOf(document.getElementById(touch.target.id));

  for (i = 0; i < ids.length; i++) {  
     oldTexts[i] = document.getElementById([ids[i]]).innerHTML;
  };

  for (i = 0; i < ids.length; i++) {
     newTexts[(i + bottomId) % 4] =  oldTexts[i];
  };

  for (i = 0; i < ids.length; i++) {  
     document.getElementById([ids[i]]).innerHTML = newTexts[i];
  };
}

function touchMove(event) {
  event.preventDefault();
}

function dropTouch(from, to) {
  to.innerHTML=to.id + ": " +  from.innerHTML;
  to.style.backgroundColor = "#cccccc";
  from.style.backgroundColor="white";
  dropName = "";
}

function touchEnd(event) {
event.preventDefault();
var touch = event.changedTouches[0];
setStatus("starting tounch end ");
var el = document.elementFromPoint(touch.clientX, touch.clientY);
addStatus(el.id);
addStatus(dropName);
addStatus(el.className);
addStatus(el.className == "dropzone");
if (el.className == "dropzone") {
  dropTouch(document.getElementById(dropName), el);
} else {
  document.getElementById(dropName).style.backgroundColor = dropBgColor;
  dropName = "";
}
}

function setStatus(x) {
document.getElementById("status").innerHTML= x;
}

function addStatus(x) {
document.getElementById("status").innerHTML= document.getElementById("status").innerHTML + "<br>" + x;
}


$(document).ready(function(){
  setStatus("document ready");
  $(".unseatedPlayer").on({
      'touchstart': function(ev) {var e = ev.originalEvent; touchStart(e);},
      'touchmove': function(ev) {var e = ev.originalEvent; touchMove(e);},
      'touchend': function(ev){var e = ev.originalEvent; touchEnd(e); }
     });

  $(".dropzone").on(
      'touchstart', function(ev) {var e = ev.originalEvent; setToBottom(e);});
});


function setdirs(target) {
var texts = ["aa","bb","cc"];
var dirs = ["North", "East", "South", "West"]
var res = "";
var start = Number(target[target.length - 1]);
//window.alert(start+" "+((start+0)%4));
for (i=0;i<4;i++) {
document.getElementById("plads"+((start+i)%4)).innerHTML = dirs[i] + document.getElementById("plads"+((start+i)%4)).innerHTML ;
//window.alert("plads"+((start+i)%4)+"  "+i+" "+start+" "+(start+i));
}
}
</script>
</head>
<body ">
<ul id="namelist">
<li id="name1" class="unseatedPlayer">Einar</li>
<li id="name2" class="unseatedPlayer">Guddie</li>
<li id="name3" class="unseatedPlayer">Philippe</li>
<li id="name4" class="unseatedPlayer">Ib</li>
<li id="name5" class="unseatedPlayer">Bente</li>
<li id="name6" class="unseatedPlayer">longername6</li>
<li id="name7" class="unseatedPlayer">longername7</li>
</ul>

<!--.seat {border:solid black 1px; width: calc((100% - 9em;) / 2); height:7em; 
        block-sizing:border-box; padding-left: 5px; padding-top:5px;}
-->

	    
<div class="seat" style="margin: 10px auto; ">Nord
  <div style="font-size:4em; margin: 0.1em auto 0.1em; text-align:center ">plads1</div>
</div>

<div class="seat" style="display:inline-table; margin: 0px auto;">Vest
  <div style="font-size:4em; margin: 0.1em auto 0.1em; text-align:center">plads4</div>
</div>

<div style="display:inline-table; height:7em; width:7em; margin: 5px auto;  block-sizing:border-box;" >
  <div style="font-size:4em; margin: 0.1em auto 0.1em; text-align:center"></div>
</div>

<div  class="seat" style="display:inline-table;  margin: 0px auto; ">Øst
  <div style="font-size:4em; margin: 0.1emx auto 0.1em; text-align:center ">plads2</div>
</div>

<div class="seat" style="margin: 0px auto;">Syd
 <div style="font-size:4em; margin: 0.1em auto 0.1em; text-align:center ">plads3</div>
</div>


=======================
<div class="seat" style="margin: 5px auto;">
  <div style="font-size:1em; margin: 0.2em 0.2em 0.2em;">Norddd</div>
  <div style="font-size:4em; margin: 0.1em auto 0.1em; text-align:center">plads1</div>
</div>

<div class = "seat" style="display:inline-block;">
  <div style="font-size:1em; margin: 0.2em 0.2em 0.2em;">Norddd</div>
  <div style="font-size:4em; margin: 0.1em auto 0.1em; text-align:center">plads1</div>
</div>
<div style="width:80px; height:7em;; border:solid black 1px; display:inline-block;">space</div>
<div class="seat" style="border:solid black 1px; display:inline-block;">
  <div style="font-size:1em; margin: 0.2em 0.2em 0.2em;">Norddd</div>
  <div style="font-size:4em; margin: 0.1em auto 0.1em; text-align:center">plads1</div>
</div>
<div class="seat" style="margin: 5px auto;">
  <div style="font-size:1em; margin: 0.2em 0.4em 0.2em;">Syd</div>
  <div style="font-size:4em; margin: 0.1em auto 0.1em; text-align:center">plads3</div>
</div>





<table id="table" >
<tr >
  <td colspan=2 id="Nord" class="dropzone">Nord
<tr>
<td id="Vest" style="width:50%" class="dropzone">Vest
<td id="Øst" class="dropzone" >Øst
<tr>
<td colspan=2 id="Syd" class="dropzone">Syd
</table>

<div id="status" style="font-size:2em; width:300px; 
height:200px; background-color:lightgreen; display:inline-block;" >status1
</div>
<div id="status1" style="font-size:2em; width:300px; height:200px; background-color:lightgreen; display:inline-block; float:right;" >
</div>
<p style="font-size:2.5em;">
Træk først navne hen på pladserne. Klik dernæst på din plads.
</body>
</html>
